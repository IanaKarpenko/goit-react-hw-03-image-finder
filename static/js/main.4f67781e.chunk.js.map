{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Button/Button.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Spinner/Spinner.module.scss","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Spinner/Spinner.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.scss","components/Modal/Modal.module.scss"],"names":["module","exports","Searchbar","state","search","changeFilter","evt","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","imgName","imgLink","click","src","alt","onClick","ImageGallery","images","imageClick","map","image","previewURL","Button","currentPage","newTop","document","documentElement","scrollHeight","window","setTimeout","top","scrollTo","behavior","buttonContainer","Spinner","spinner","color","height","width","Modal","handleKeyDown","code","addEventListener","removeEventListener","Overlay","App","searchQuery","error","imageForModal","showModal","isLoading","fetchImage","url","fetch","then","response","json","data","prevState","hits","catch","onChangeFilter","onimageClick","a","find","largeImageURL","handleBackClick","prevProps","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4f67781e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2ZD2y\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__BUN8q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__16C4M\",\"buttonContainer\":\"Button_buttonContainer__2fj44\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2KjVn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__YliiI\"};","import PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.scss';\r\nimport { Component } from 'react';\r\n\r\n\r\nexport class Searchbar extends Component {\r\n    state = {\r\n        search: ''\r\n    }\r\n\r\n    changeFilter = (evt) => {\r\n        this.setState({ search: evt.currentTarget.value });\r\n    }\r\n\r\n    handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n        this.props.onSubmit(this.state.search);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <header className=\"Searchbar\">\r\n            <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n                <button type=\"submit\" className={ styles['SearchForm-button'] }>\r\n                    <span className={styles['SearchForm-button-label'] }>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className={ styles['SearchForm-input'] }\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={this.state.search}\r\n                    onChange={this.changeFilter}\r\n                />\r\n            </form>\r\n        </header>\r\n        )\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired\r\n}\r\n","import styles from './ImageGalleryItem.module.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const ImageGalleryItem = ({ id, imgName, imgLink, click }) => {\r\n    return (\r\n        <li className={styles.ImageGalleryItem}>\r\n            <img id={id} src={imgLink} alt={imgName} className={styles['ImageGalleryItem-image']} onClick={click} />\r\n        </li>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    imgName: PropTypes.string.isRequired,\r\n    imgLink: PropTypes.string.isRequired,\r\n    id: PropTypes.number.isRequired,\r\n    click: PropTypes.func.isRequired\r\n}","import styles from './ImageGallery.module.scss';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const ImageGallery = ({ images, imageClick }) => {\r\n\r\n    return (\r\n        <ul className={styles.ImageGallery}>\r\n            {images.map(image => (\r\n                <ImageGalleryItem key={image.id} id={image.id} imgName={image.previewURL} imgLink={image.previewURL} click={imageClick} />\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.arrayOf(PropTypes.shape({\r\n        id: PropTypes.number.isRequired,\r\n        previewURL: PropTypes.string.isRequired,\r\n        imageClick: PropTypes.func\r\n    }))\r\n}","import styles from './Button.module.scss';\r\n\r\nexport const Button = ({ currentPage, onSubmit }) => {\r\n    //console.log(`current page ${currentPage}`);\r\n    const newTop = document.documentElement.scrollHeight;\r\n    if (currentPage > 2) {\r\n        window.setTimeout((top) => {\r\n            //console.log(`this is p ${top}`);\r\n            window.scrollTo({\r\n                top: top,\r\n                behavior: \"smooth\"\r\n            });\r\n        }, 200, newTop);\r\n    }\r\n    return (\r\n        <div className={styles.buttonContainer}>\r\n            <button type='button' className={styles.Button} onClick={onSubmit}>Load more</button>\r\n        </div>\r\n    );\r\n}","import styles from './Spinner.module.scss';\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport const Spinner = () => {\r\n    return (\r\n        <div className={styles.spinner}>\r\n            <Loader type=\"ThreeDots\" color=\"#72757c\" height={80} width={80} />\r\n        </div>\r\n    )\r\n}","import styles from './Modal.module.scss';\r\nimport { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        return '';\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n        return '';\r\n    }\r\n\r\n    handleKeyDown = (evt) => {\r\n    if (evt.code === 'Escape') {\r\n      this.props.click();\r\n    }\r\n  };\r\n\r\n    render() {\r\n        const { image, click } = this.props;\r\n        return (\r\n            <div className={styles.Overlay} onClick={click}>\r\n                <div className={styles.Modal}>\r\n                    <img src={image} alt=\"\" className={styles.image} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    image: PropTypes.string.isRequired,\r\n    click: PropTypes.func.isRequired\r\n}\r\n\r\n\r\n","import './App.css';\nimport { Component } from 'react';\nimport { Searchbar } from './components/Searchbar';\nimport { ImageGallery } from './components/ImageGallery';\nimport { Button } from './components/Button';\nimport { Spinner } from './components/Spinner';\nimport { Modal } from './components/Modal';\n\nclass App extends Component {\n\n  state = {\n    images: [],\n    searchQuery: '',\n    currentPage: 1,\n    error: null,\n    imageForModal: '',\n    showModal: false,\n    isLoading: false,\n  };\n\n  fetchImage = () => {\n    this.setState({ isLoading: true });\n    const API_KEY = '23106414-1912ab188e9ddc39eb325727f';\n    const url = `https://pixabay.com/api/?q=${this.state.searchQuery}&page=${this.state.currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n    fetch(url).then(response => {\n      return response.json();\n    }).then(data => {\n      this.setState(\n        (prevState) => ({\n          images: [...prevState.images, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n          isLoading: false\n        })\n      );\n    }).catch(error => {\n      this.setState({ error: error });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery && this.state.searchQuery !== '') {\n      this.fetchImage(this.state.searchQuery);\n    }\n  }\n\n  onChangeFilter = search => {\n    this.setState({\n      images: [],\n      searchQuery: search,\n      currentPage: 1,\n      error: null,\n    })\n  }\n\n\n  onimageClick = (evt) => {\n    const a = this.state.images.find(image => (image.id == evt.currentTarget.id));\n    this.setState({\n      imageForModal: a.largeImageURL,\n      showModal: true\n    })\n  }\n\n  handleBackClick = (evt) => {\n    this.setState({\n      imageForModal: '',\n      showModal: false\n    })\n  }\n\n\n  render() {\n    return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        \n          <Searchbar onSubmit={this.onChangeFilter} />\n          <ImageGallery images={this.state.images} imageClick={this.onimageClick} />\n          {this.state.isLoading && <Spinner />}\n          {this.state.images.length > 0 ? !(this.state.showModal) && <Button currentPage={this.state.currentPage} onSubmit={this.fetchImage} /> : ''}\n          {this.state.showModal && <Modal className='modal' image={this.state.imageForModal} click={this.handleBackClick} />}\n\n      </header>\n      </div>\n    )\n  }\n    \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__Glw8H\",\"SearchForm-button\":\"Searchbar_SearchForm-button__gHydv\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__1GU2K\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2NrkR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__fD8GK\",\"image\":\"Modal_image__2UeMY\"};"],"sourceRoot":""}